(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-room-account-index"],{"26b4":function(t,n,o){"use strict";o.r(n);var a=o("4f77"),c=o("59ed");for(var e in c)"default"!==e&&function(t){o.d(n,t,(function(){return c[t]}))}(e);o("2c33");var i,u=o("f0c5"),s=Object(u["a"])(c["default"],a["b"],a["c"],!1,null,"0bb82d3e",null,!1,a["a"],i);n["default"]=s.exports},"2c33":function(t,n,o){"use strict";var a=o("e2f3"),c=o.n(a);c.a},"4f77":function(t,n,o){"use strict";var a;o.d(n,"b",(function(){return c})),o.d(n,"c",(function(){return e})),o.d(n,"a",(function(){return a}));var c=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("v-uni-view",{staticClass:"account-wrap"},[o("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[o("v-uni-view",{staticClass:"action"},[t._v("账户列表")])],1),o("v-uni-view",{staticClass:"cu-list menu"},t._l(t.accountList,(function(n,a){return o("v-uni-view",{key:a,staticClass:"cu-item"},[o("v-uni-view",{staticClass:"content"},[o("v-uni-image",{attrs:{src:"/static/images/user/pic.png"}}),o("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(n.fullName))])],1),o("v-uni-view",{staticClass:"action"},[o("v-uni-view",{staticClass:"account-btn-box"},[o("v-uni-button",{staticClass:"cu-btn bg-green round shadow allow-pay-btn",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.allowPay(n)}}},[t._v(t._s(n.allowPayText))]),o("v-uni-view",{staticClass:"unbind-btn-box"},[o("v-uni-button",{staticClass:"cu-btn bg-orange round shadow unbind-btn",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.unBind(n)}}},[t._v("解除绑定")])],1)],1)],1)],1)})),1)],1)},e=[]},5354:function(t,n,o){"use strict";var a=o("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=a(o("6ba7")),e=c.default;n.default=e},"59ed":function(t,n,o){"use strict";o.r(n);var a=o("5354"),c=o.n(a);for(var e in a)"default"!==e&&function(t){o.d(n,t,(function(){return a[t]}))}(e);n["default"]=c.a},"6ba7":function(t,n,o){"use strict";var a=o("4ea4");o("4160"),o("159b"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=a(o("5530")),e={data:function(){return{roomId:"",accountList:[],accountCount:0,allowPayText:""}},onLoad:function(t){console.log("account onLoad option:",t),this.roomId=t.roomId,this.initAccountList(t)},methods:{initAccountList:function(){var t=this;this.accountList=[],this.$http("user.roomAccountList",{RoomId:this.roomId},"获取账户列表...").then((function(n){console.log("account---onLoad---res:",n),200===n.code&&(n.data.forEach((function(n,o){0==n.allowedDeductions&&(n=(0,c.default)((0,c.default)({},n),{allowPayText:"允许扣费"})),1==n.allowedDeductions&&(n=(0,c.default)((0,c.default)({},n),{allowPayText:"禁止扣费"})),t.accountList.push(n)})),t.accountCount=n.totalCount),console.log("account---onLoad---accountList:",t.accountList)}))},allowPay:function(t){console.log("allowPay item:",t);var n=uni.getStorageSync("userInfo");console.log("allowPay userInfo:",n);var o=0,a="";0==t.allowedDeductions?(o=1,a="允许 "+t.fullName+" 扣费"):1==t.allowedDeductions&&(o=0,a="禁止 "+t.fullName+" 扣费");var c=this;uni.showModal({title:"提示",content:a,success:function(a){a.confirm?(console.log("用户点击确定"),c.$http("user.accountAllowPay",{id:t.id,allowedDeductions:o,accountId:n.id},"正在修改...").then((function(t){console.log("allowPay res:",t),200===t.code&&(c.initAccountList(),c.$u.toast(t.message))}))):a.cancel&&console.log("用户点击取消")}})},unBind:function(t){var n="解除 "+t.fullName+" 绑定",o=this;uni.showModal({title:"提示",content:n,success:function(n){n.confirm?(console.log("用户点击确定"),o.$http("user.accountUnBind",{idList:[t.id]},"正在解除...").then((function(t){console.log("allowPay res:",t),200===t.code?(o.initAccountList(),o.$u.toast(t.message)):o.$u.toast(t.message)}))):n.cancel&&console.log("用户点击取消")}})}}};n.default=e},ad48:function(t,n,o){var a=o("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.account-wrap .account-btn-box[data-v-0bb82d3e]{display:flex;align-items:center}.account-wrap .account-btn-box .allow-pay-btn[data-v-0bb82d3e]{height:%?54?%}.account-wrap .account-btn-box .unbind-btn-box[data-v-0bb82d3e]{padding-left:%?18?%}.account-wrap .account-btn-box .unbind-btn-box .unbind-btn[data-v-0bb82d3e]{height:%?54?%}',""]),t.exports=n},e2f3:function(t,n,o){var a=o("ad48");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var c=o("4f06").default;c("54f08c44",a,!0,{sourceMap:!1,shadowMode:!1})}}]);