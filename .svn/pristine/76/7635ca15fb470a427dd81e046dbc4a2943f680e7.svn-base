<template>
	<view>
		<view class="top-wrap">
			<!-- 顶部菜单 -->
			<view class="topbar">
				<view class="topbar-left">
					<view class="topbar-tenant" @tap="showTenant">
						<u-select  mode="single-column" v-model="showSelect" :list="tenantList" :default-value="selectDefaultValue" @confirm="confirmSelect" @cancel="cancelSelect"></u-select>
						<view class="select-value">{{tenantName}}</view>
						<view class="select-icon"><u-icon name="arrow-down" size="30" color="#FFF"></u-icon></view>
					</view>
				</view>

				<view class="topbar-right">
					<view class="topbar-message">
						<!-- <u-icon name="chat" size="45" color="#FFF"></u-icon> -->
						<u-image width="48" height="35" src="/static/images/index/home_message.png"></u-image>
						<view class="topbar-message-text">消息</view>
					</view>

					<!-- bindUser scanCode-->
					<view class="topbar-scan" @tap="bindUser">
						<!-- <u-icon name="scan" size="40" color="#FFF"></u-icon> -->
						<u-image width="48" height="35" src="/static/images/index/home_add.png"></u-image>
						<view class="topbar-scan-text">绑定</view>
					</view>
				</view>
			</view>

			<!-- 用户余额 -->
			<view class="balance">
				<view class="account_balance">
					<view class="balance-items">
						<view class="left-arrow" :style="{'visibility': showLeftArrow?'':'hidden'}" @tap="left_arrow">
							<image class="left-arrow-image" src="/static/images/index/home_more_left.png"></image>
						</view>
						
						<view class="balance-item" :class="((index==0) && showLine)?'solid-right':''" v-for="(item,index) in balanceList">
							<view class="account-address" @tap="jump(item)">
								<view class="text-cut account-address-text">{{item.userName}}</view>
								<view class="account-address-arrow">
									<text class="lg text-white cuIcon-right"></text>
								</view>
							</view>
							<view class="balance-amount" @tap="jump(item)">
								<view class="balance-amount-label">余额:</view>
								<view class="balance-amount-integer">{{item.accountBalanceInteger}}.</view>
								<view class="balance-amount-decimal">{{item.accountBalanceDecimal}}</view>
							</view>
							<view class="month-amount" @tap="jump(item)">
								<view class="month-amount-label">未缴:</view>
								<view class="month-amount-integer">{{item.accountUnpaidInteger}}.</view>
								<view class="month-amount-decimal">{{item.accountUnpaidDecimal}}</view>
							</view>
							<view class="charge-btn">
								<button class="cu-btn round sm lines-white" @tap="to_charge(item)">
									<view class="charge-btn-text">立即充值</view>
								</button>
							</view>
						</view>
						<view class="" style="height: 88rpx;flex-grow: 1;">
							<image src="/static/images/index/home_bg_right.png"></image>
						</view>
						
						
						
						<view class="right-arrow" :style="{'visibility': showRightArrow?'':'hidden'}" @tap="right_arrow">
							<image class="right-arrow-image" src="/static/images/index/home_more_right.png"></image>
						</view>
					</view>
				</view>
			</view>
		</view>

		<view class="float-wrap">
			<view class="content-wrap">
				<view class="function">
					<view class="cu-list grid radius shadow-warp bg-white"
						:class="['col-' + gridCol,gridBorder?'':'no-border']">
						<!-- <view class="cu-item" v-for="(item,index) in cuIconList" :key="index" v-if="index<gridCol*2">
							<view :class="['cuIcon-' + item.cuIcon,'text-' + item.color]"
								@tap="$Router.push('/pages/charge/pay/index/index')">
								<view class="cu-tag badge" v-if="item.badge!=0">
									<block v-if="item.badge!=1">{{item.badge>99?'99+':item.badge}}</block>
								</view>
							</view>
							<text>{{item.name}}</text>
						</view> -->
						
						<view class="cu-item">
							<navigator open-type="navigate" url="pages/charge/bill/residentbill" >
							<view>
								<image class="func-image" src="/static/images/index/home_function_01.png"></image>
							</view>
							<text>电费</text>
							</navigator>
						</view>
						<view class="cu-item">
							<view>
								<image class="func-image" src="/static/images/index/home_function_02.png"></image>
							</view>
							<text>水费</text>
						</view>
						<view class="cu-item">
							<view>
								<image class="func-image" src="/static/images/index/home_function_03.png"></image>
							</view>
							<text>燃气费</text>
						</view>
						<view class="cu-item">
							<view>
								<image class="func-image" src="/static/images/index/home_function_04.png"></image>
							</view>
							<text>物业费</text>
						</view>
						<view class="cu-item">
							<view>
								<image class="func-image" src="/static/images/index/home_function_05.png"></image>
							</view>
							<text>停车费</text>
						</view>
						<view class="cu-item">
							<view>
								<image class="func-image" src="/static/images/index/home_function_06.png"></image>
							</view>
							<text>报修</text>
						</view>
						<view class="cu-item">
							<view>
								<image class="func-image" src="/static/images/index/home_function_07.png"></image>
							</view>
							<text>门禁</text>
						</view>
						<view class="cu-item">
							<view>
								<image class="func-image" src="/static/images/index/home_function_more.png"></image>
							</view>
							<text>更多</text>
						</view>
					</view>
				</view>

				<!-- 通知 -->
				<view class="notice radius  bg-white">
					<view class="notice_left">
						<view class="notice_icon">
							<u-image width="33rpx" height="33rpx" src="/static/images/index/home_notice.png"></u-image>
						</view>
					</view>

					<view class="notice_right">
						<view class="notice_text">
							<swiper style="height: 33px;line-height: 33px;" :circular="true" :autoplay="true"
								interval="3000" duration="500" vertical="true">
								<swiper-item v-for="(item,index) in noticeList" :key="index">
									{{item.title}}
								</swiper-item>
							</swiper>
						</view>
						<view class="notice_more">
							更多
						</view>
					</view>
				</view>


				<!-- 广告 -->
				<view class="ad">

					<view class="ad-swiper">
						<u-swiper :list="adList"></u-swiper>
					</view>
				</view>
			</view>
		</view>
		<!-- <cannet-auth-modal></cannet-auth-modal> -->
	</view>
</template>

<script>
	import Main from "./main";
	export default Main;
</script>

<style lang="scss" scoped>
	@import './main.scss'
</style>
<style>
	.solid-right::after {
	    border-right: 0.5px solid #FFF !important;
	}
</style>
