(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-room-index-index"],{"18c8":function(t,e,n){"use strict";var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("5530")),s=n("2f62"),a={data:function(){return{actionlist:[],show:!1,currentItem:{},accountId:"",roomList:[],roomCount:1}},onLoad:function(t){var e=this;console.log("room onLoad option",t),this.accountId=t.userId,this.$http("user.roomList",{AccountId:this.accountId},"获取房间列表...").then((function(t){console.log("room---onLoad---res:",t),200===t.code&&(e.roomList=t.data,e.roomCount=t.totalCount),console.log("room---onLoad---roomList:",e.roomList)}))},computed:(0,i.default)({},(0,s.mapGetters)(["isLogin"])),methods:{showAction:function(t){this.currentItem=t,0==t.masterSign?this.actionlist=[{text:"去交费"},{text:"审批分户"},{text:"房间账户"}]:1==t.masterSign&&(this.actionlist=[{text:"去交费"}]),this.show=!0},clickAction:function(t){if(0==t&&this.$Router.push("/pages/charge/pay/index/index"),1==t){var e={roomId:this.currentItem.id};this.$Router.push({path:"/pages/user/room/approve/index",query:e})}if(2==t){var n={roomId:this.currentItem.id};this.$Router.push({path:"/pages/user/room/account/index",query:n})}},scanCode:function(){console.log("######scanCode begin######");var t=this;if(this.isLogin){var e="",n=uni.getStorageSync("userInfo");uni.scanCode({success:function(o){var i=this;console.log("条码类型："+o.scanType),console.log("条码内容："+o.result),e=o.result,t.$http("user.roomInfo",{QRCode:e,AccountId:n.id},"获取中...").then((function(t){if(console.log("index scanCode res:",t),200===t.code){var e=t.data.isBind,o=t.data.isExistMain,s=t.data.roomInfo.id,a=t.data.roomInfo.roomName;if("true"==e)i.$u.toast("该房间您已经绑定过了");else{var c="?accountId="+n.id+"&roomId="+s+"&roomName="+a+"&isBind="+e+"&isExistMain="+o;console.log("index scanCode params:",c),uni.navigateTo({url:"pages/user/bind/index"+c})}}else i.$u.toast(t.message)}))}})}else console.log("else"),this.$store.dispatch("showAuthModal");console.log("######scanCode end######")}}};e.default=a},2505:function(t,e,n){"use strict";n.r(e);var o=n("d5b9"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},2569:function(t,e,n){"use strict";n.r(e);var o=n("7200"),i=n("2505");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("e7aa");var a,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"91d2c2ea",null,!1,o["a"],a);e["default"]=u.exports},"45c4":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"u-action-sheet",props:{maskCloseAble:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}},tips:{type:Object,default:function(){return{text:"",color:"",fontSize:"26"}}},cancelBtn:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!1},value:{type:Boolean,default:!1},borderRadius:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:0},cancelText:{type:String,default:"取消"}},computed:{tipsStyle:function(){var t={};return this.tips.color&&(t.color=this.tips.color),this.tips.fontSize&&(t.fontSize=this.tips.fontSize+"rpx"),t},itemStyle:function(){var t=this;return function(e){var n={};return t.list[e].color&&(n.color=t.list[e].color),t.list[e].fontSize&&(n.fontSize=t.list[e].fontSize+"rpx"),t.list[e].disabled&&(n.color="#c0c4cc"),n}},uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},methods:{close:function(){this.popupClose(),this.$emit("close")},popupClose:function(){this.$emit("input",!1)},itemClick:function(t){this.list[t].disabled||(this.$emit("click",t),this.$emit("input",!1))}}};e.default=o},5522:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var o={uPopup:n("21ea").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("u-popup",{attrs:{mode:"bottom","border-radius":t.borderRadius,popup:!1,maskCloseAble:t.maskCloseAble,length:"auto",safeAreaInsetBottom:t.safeAreaInsetBottom,"z-index":t.uZIndex},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.popupClose.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[t.tips.text?n("v-uni-view",{staticClass:"u-tips u-border-bottom",style:[t.tipsStyle]},[t._v(t._s(t.tips.text))]):t._e(),t._l(t.list,(function(e,o){return[n("v-uni-view",{key:o+"_0",staticClass:"u-action-sheet-item u-line-1",class:[o<t.list.length-1?"u-border-bottom":""],style:[t.itemStyle(o)],attrs:{"hover-stay-time":150},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.itemClick(o)}}},[n("v-uni-text",[t._v(t._s(e.text))]),e.subText?n("v-uni-text",{staticClass:"u-action-sheet-item__subtext u-line-1"},[t._v(t._s(e.subText))]):t._e()],1)]})),t.cancelBtn?n("v-uni-view",{staticClass:"u-gab"}):t._e(),t.cancelBtn?n("v-uni-view",{staticClass:"u-actionsheet-cancel u-action-sheet-item",attrs:{"hover-class":"u-hover-class","hover-stay-time":150},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v(t._s(t.cancelText))]):t._e()],2)},s=[]},"636d":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.bind-room-nobind-box[data-v-91d2c2ea]{display:flex;flex-direction:column;justify-content:center;align-items:center}.bind-room-nobind-box .bind-room-notice[data-v-91d2c2ea]{width:100%;padding:%?60?%;font-size:%?32?%;text-align:center}.bind-room-nobind-box .bind-room-tobind[data-v-91d2c2ea]{width:90%;padding:%?12?%;line-height:%?58?%;font-size:%?32?%}',""]),t.exports=e},6553:function(t,e,n){var o=n("c4e6");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("0d968e60",o,!0,{sourceMap:!1,shadowMode:!1})},7200:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var o={uActionSheet:n("82a5").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.roomCount>0?n("v-uni-view",[n("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[n("v-uni-view",{staticClass:"action"},[t._v("房间列表")])],1),n("v-uni-view",{staticClass:"cu-list menu"},t._l(t.roomList,(function(e,o){return n("v-uni-view",{key:o,staticClass:"cu-item arrow",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.showAction(e)}}},[n("v-uni-view",{staticClass:"content"},[n("v-uni-image",{staticClass:"png",attrs:{src:"/static/images/user/pic.png",mode:"aspectFit"}}),n("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(e.roomName))])],1),n("v-uni-view",{staticClass:"action"},[0==e.masterSign?n("v-uni-view",[n("v-uni-view",{staticClass:"cu-tag round bg-olive light"},[t._v("主户")])],1):t._e(),1==e.masterSign?n("v-uni-view",[n("v-uni-view",{staticClass:"cu-tag round bg-olive light"},[t._v("分户")])],1):t._e()],1)],1)})),1)],1):t._e(),0==t.roomCount?n("v-uni-view",[n("v-uni-view",{staticClass:"bind-room-nobind-box"},[n("v-uni-view",{staticClass:"bind-room-notice"},[n("v-uni-text",{staticClass:"text-grey"},[t._v("暂未绑定")])],1),n("v-uni-view",{staticClass:"bind-room-tobind"},[n("v-uni-button",{staticClass:"bg-gradual-blue bind-room-tobind shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.scanCode.apply(void 0,arguments)}}},[t._v("扫码绑定")])],1)],1)],1):t._e(),n("u-action-sheet",{attrs:{"cancel-btn":!0,"mask-close-able":!0,list:t.actionlist,"safe-area-inset-bottom":!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickAction.apply(void 0,arguments)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},s=[]},"7df3":function(t,e,n){"use strict";var o=n("6553"),i=n.n(o);i.a},"82a5":function(t,e,n){"use strict";n.r(e);var o=n("5522"),i=n("ab131");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("7df3");var a,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"981f2e14",null,!1,o["a"],a);e["default"]=u.exports},ab131:function(t,e,n){"use strict";n.r(e);var o=n("45c4"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},c4e6:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-tips[data-v-981f2e14]{font-size:%?26?%;text-align:center;padding:%?34?% 0;line-height:1;color:#909399}.u-action-sheet-item[data-v-981f2e14]{\ndisplay:flex;flex-direction:row;\nline-height:1;justify-content:center;align-items:center;font-size:%?32?%;padding:%?34?% 0;flex-direction:column}.u-action-sheet-item__subtext[data-v-981f2e14]{font-size:%?24?%;color:#909399;margin-top:%?20?%}.u-gab[data-v-981f2e14]{height:%?12?%;background-color:#eaeaec}.u-actionsheet-cancel[data-v-981f2e14]{color:#303133}',""]),t.exports=e},d5b9:function(t,e,n){"use strict";var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("18c8")),s=i.default;e.default=s},e7aa:function(t,e,n){"use strict";var o=n("ffcc"),i=n.n(o);i.a},ffcc:function(t,e,n){var o=n("636d");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("e7100330",o,!0,{sourceMap:!1,shadowMode:!1})}}]);